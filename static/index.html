<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instagram-Clone</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="../static/style.css" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    />
    <script src="script.js"></script>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.18.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyBFyRpkv03bInA2u-LNaTm48KTk9D5nXos",
        authDomain: "social-media-app-69.firebaseapp.com",
        projectId: "social-media-app-69",
        storageBucket: "social-media-app-69.appspot.com",
        messagingSenderId: "901516529814",
        appId: "1:901516529814:web:23f13b3c658c7530d272b7",
        measurementId: "G-9GQ1LTT0CG"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>
  </head>
  <body>
    <!-- navigation -->
    <nav class="navbar">
      <div class="nav-wrapper">
        <img class="brand-img" src="../images/logo.png" />
        <form class="search-form">
          <input type="text" class="search-box" placeholder="search.." />
        </form>
        <div class="nav-items">
          <i class="icon fas fa-home"></i>
          <i class="icon fas fa-plus"></i>
          <i class="icon fas fa-heart"></i>
          <div class="icon user-profile">
            <i class="fas fa-user"></i>
          </div>
        </div>
      </div>
    </nav>

    <!-- section -->
    <section class="main">
      <div class="wrapper">
        <div class="left-col">
          <!---STATUS-->

          <div class="status-wrapper">
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>

            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>

            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div><div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
            <div class="status-card">
              <div class="profile-pic">
                <img src="../images/profile.jpg" alt="../images/profile.jpg" />
              </div>
              <p class="username">username</p>
            </div>
          </div>

          <!--POST-->

          <div class="post">
            <div class="info">
              <div class="user">
                <div class="profile-pic">
                  <img src="../images/profile.jpg" alt="../images/profile.jpg" />
                </div>
                <p class="username">username</p>
              </div>
              <i class="fas fa-ellipsis-h options"></i>
            </div>
            <img src="../images/1.jpg" class="post-image" />
            <div class="post-content">
              <div class="reaction-wrapper">
                <i class="icon fas fa-heart"></i>
                <i class="icon fas fa-comment"></i>
              </div>
              <p class="likes">2,154 likes</p>
              <p class="description">
                <span>username</span> this is a post by username
              </p>
              <p class="post-time">2021/12/08</p>
            </div>

            <div class="comment-wrapper">
              <img src="../images/profile.jpg" class="icon" />
              <input
                type="text"
                class="comment-box"
                placeholder="Add a comment"
              />
              <button class="comment-btn">post</button>
            </div>
          </div>
        </div>
        <div class="right-col">
          <!--Profile-Card-->

          <div class="profile-card">
            <div class="profile-pic">
              <img src="../images/profile.jpg" alt="../images/profile.jpg" />
            </div>
            <div>
              <p class="username">username</p>
              <p class="sub-text">sub-text</p>
            </div>
            <button class="logout-btn">logout</button>
          </div>

          <!--Suggestion-Card-->

          <p class="suggestion-text">Suggestions For you</p>

          <div class="suggestion-card">
            <div class="suggestion-pic">
              <img src="../images/2.jpg" alt="../images/2.jpg" />
            </div>
            <div>
              <p class="username">username</p>
              <p class="sub-text">sub-text</p>
            </div>
            <button class="follow-btn">follow</button>
          </div>
        </div>
      </div>
    </section>

    <!-- script -->
    <script>
      async function load_stories() {
        const urlParams = new URLSearchParams(window.location.search);
        const encodeduser = urlParams.get('userid');
        const decodeduser = decodeURIComponent(encodeduser);
        console.log(decodeduser);
        try {
              const response = await fetch(`http://127.0.0.1:8000/followers/${userid}`, {
                  method:'GET',
              })
            // console.log(response.json())
            console.log(response);
            const followers = await response.json()
          
            window.addEventListener('load', () => {
              // select all img elements in .status-wrapper container
              const imgElements = document.querySelectorAll('.profile-pic img');
              console.log(imgElements);
              // loop through img elements and set src attribute to corresponding image URL from response data
              imgElements.forEach((img, index) => {
                img.src = followers.profile_photo_url[index];
              });
            });
            // console.log(data);
              // Get the list of img elements from the division container
              // Loop through the img elements and set their src value based on the corresponding item in the response data list
          }
            catch (error) {
              console.log(error) 
            }
      }
      load_stories()
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
  </body>
</html>
